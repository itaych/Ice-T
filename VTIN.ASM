;   ­­ Éãå­Ô ­­ ›;  A VT-100 terminal emulator›; byItay Chamiel››; - Systemcheckup --VTIN.ASM››; For v1.1(48K version)››topmem= $bfff›› .or $3000››check› lda 82› pha› lda #0› sta 82› lda #255› sta 764› ldx #0›?lp› txa› pha› lda testmsg,x› ldx #11› stx iccom› ldx #0› stx icbll› stx icblh› jsr ciov› pla› tax› inx› cpx #okmsg-testmsg› bne ?lp› ldx topmem› lda #1› sta topmem› lda topmem› stx topmem› cmp #1› bne membad› lda #128› sta topmem› lda topmem› stx topmem› cmp #128› beq memok›membad› jsr prntbad› ldx #>bd48› ldy #<bd48› jsr prntin›memok› ldx #$20› lda #12› sta iccom+$20› jsr ciov› ldx #$20 ; Turn DTR on - for test› lda #<inrname› sta icbal+$20› lda #>inrname› sta icbah+$20› lda #34› sta iccom+$20› lda #192› sta icaux1+$20› jsr ciov› cpy #128› bcc endcheck› jsr prntbad› ldx #>rhndbd› ldy #<rhndbd› jsr prntin›endcheck› ldx #$20› lda #12› sta iccom+$20› jsr ciov› lda badtext› bne ?ok› tax› lda #11› sta iccom› txa› sta icbll› sta icblh› lda #155› jsr ciov› ldx #>retdsmsg› ldy #<retdsmsg› jsr prntin›?lp› lda 764› cmp #255› beq ?lp› lda #255› sta 764› pla› sta 82› pla› pla› jmp ($a)›?ok› pla› sta 82› ldx #>okmsg› ldy #<okmsg› jsr prntin› ldx #>okmsg2› ldy #<okmsg2› jmp prntin›prntbad› lda badtext› cmp #0› beq ?end› ldx #0›?lp› txa› pha› lda badtext,x› ldx #11› stx iccom› ldx #0› stx icbll› stx icblh› jsr ciov› pla› tax› inx› cpx #bd48-badtext› bne ?lp› lda #0› sta badtext›?end› rts›prntin› stx icbah› sty icbal› ldx #0› lda #9› sta iccom› lda #255› sta icbll› stx icblh› jmp ciov››testmsg› .by 155› .by 'Ice-T: Testing...'›okmsg› .by 'Ok!'›okmsg2› .by 155›badtext› .by 155 155› .by 'This program requires a 48K c'› .by 'omputer,' 155› .by 'with no cartridges active. Yo'› .by 'u also' 155› .by 'have to prepend an R: handler'› .by ' to the' 155› .by 'program as described in the d'› .by 'ocs.' 155› .by 'The following conditions were'› .by ' not met:' 155 155››bd48› .by '* No 48K! (or remove'› .by ' cartridge)' 155›rhndbd› .by '* Interface not ready or'› .by ' no R: handler!' 155›retdsmsg› .by 'Hit any key to return to DOS..'› .by 155›inrname .by 'R:' 155›› .or $2e2› .wo check›